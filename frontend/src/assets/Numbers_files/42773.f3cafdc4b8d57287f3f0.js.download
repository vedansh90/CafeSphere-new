"use strict";(self.webpackChunkcodeneuron_templates=self.webpackChunkcodeneuron_templates||[]).push([[42773],{99745:(e,t,n)=>{n.d(t,{Dp:()=>g,Hg:()=>w,NC:()=>d,N_:()=>r,P7:()=>s,Un:()=>b,Zg:()=>c,lJ:()=>u,o8:()=>h,oQ:()=>l,wg:()=>p,xD:()=>m,xR:()=>v,zv:()=>f});var i,o=n(4942),a=n(89113),r={VIDEOS:"videos",CONTENT:"content"},l={AUTO:"auto",SUBTITLES:"subtitles",UPLOAD_SUBTITLES:"upload-subtitles"},u={ELEMENT:"element",SUBTITLES:"subtitles",TRANSCRIPT:"transcript",HEADINGS:"headings"},s={EMBED:"embed",TIMING:"timing",FORMAT:"format",EFFECTS:"effects",SUBTITLES:"subtitles",EDIT_SUBTITLES:"edit-subtitles",TRANSCRIPT:"transcript",HEADINGS:"headings"},c={FIRST_FRAME:"first-frame",CURRENT_FRAME:"current-frame",UPLOAD:"upload"},d={imageUrl:"",title:"The title of the message",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua",buttonText:"Continue"},v={HEADINGS:"headings",THUMBNAIL:"thumbnail",WATERMARK:"watermark",PLAYER_SKIN:"player-skin",REACTIONS:"video-interactions"},p=[{iconName:"default",iconClass:"clr1-bg"},{iconName:"line",iconClass:"clr1-border"},{iconName:"person",iconClass:"clr1-bg"},{iconName:"practise",iconClass:"clr1-bg"},{iconName:"question",iconClass:"clr1-bg"},{iconName:"separator",iconClass:"clr1-bg"},{iconName:"price-label"},{iconName:"link",iconClass:"clr1-border"}],m=(i={},(0,o.Z)(i,a.s$.MULTIPLE_CHOICE,"questionTemplateAI"),(0,o.Z)(i,a.s$.TRUE_FALSE,"questionTemplate3"),(0,o.Z)(i,a.s$.STOP_THINK,"textTemplate8"),i),f={ELEMENT:"element",HEADING:"heading"},h={PUBLISHED:"published",DONE:"done"},g={SAVED_IVIDEO:"Saved iVideo Settings",BUTTON_CLICKED:"Clicked Button"},w={LEFT_SIDE_MENU:"left-side menu",TOPBAR:"topbar",RIGHT_SIDE_MENU:"right-side menu"},b={ALL_USERS:"allUsers",TAGGED_USERS:"taggedUsers",NOBODY:"nobody"}},50897:(e,t,n)=>{n.d(t,{H:()=>s});var i=n(63420),o=n(70538),a=n(66775),r=n(45181),l=n(99745),u=n(67541),s=(0,i.Q_)("editingTools",(function(){var e=(0,i.Jk)((0,a.q)()),t=e.videoUploadedBy,n=e.videoParams,s=(0,r.t)().pause,c=(0,o.ref)(!1),d=(0,o.ref)(!0),v=(0,o.ref)(""),p=(0,o.ref)(null),m=(0,o.ref)(l.N_.CONTENT),f=(0,o.ref)(!0),h=(0,o.ref)(!1),g=(0,o.ref)(!1),w=(0,o.ref)(""),b=(0,o.ref)(null),y=(0,o.ref)(null),S=(0,o.ref)(!1),E=(0,o.ref)(!1),_=(0,o.ref)(!1),I=(0,o.ref)(!1);return{inFullScreenMode:h,activeSidebar:m,activeSideform:p,addElementModalDisplay:g,addElementModalCategory:b,addElementModalSource:w,isSideformOpen:c,isSideformPinned:d,isSidebarPinned:f,sideformActiveTabId:v,videoSettingsModalActiveTab:y,videoSettingsModalDisplay:S,videoStatsDisplay:E,elementMessagePreviewDisplay:I,transcriptionModalDisplay:_,setInFullScreenMode:function(e){window.parent.parentVue&&window.broadcastEvent({action:"togglePageBuilderView",payload:e}),h.value=e},setActiveSidebar:function(e){m.value=e},setActiveSideform:function(e){p.value=e},setAddElementModalDisplay:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&(w.value=t),g.value=e,b.value=null,s()},setAddElementModalCategory:function(e){b.value=e},setAddElementModalSource:function(e){w.value=e},setSideformDisplay:function(e){c.value=e,e||(I.value=!1)},setSideformPinned:function(e){d.value=e},setSidebarPinned:function(e){f.value=e},setSideformActiveTabId:function(e){v.value=e},setVideoSettingsModalActiveTab:function(e){y.value=e},setVideoSettingsModalDisplay:function(e){S.value=e,s()},setVideoStatsDisplay:function(e){E.value=e,s()},setElementMessagePreviewDisplay:function(e){I.value=e},setTranscriptionModalDisplay:function(e){_.value=e,s()},canAccessExternalSettings:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=(null==t?void 0:t.value)===window.me.id;return window.me.parentRole!==u.I.lwAdmin&&window.me.parentRole!==u.I.admin||(i=!0),i?!!n.value.videoLibraryId||(e&&window.showMessage("alert","Video is not hosted on your school","This service is available only if you upload the video to your school.",[{name:"OK",class:"solid"}]),!1):(e&&window.showMessage("warning","Cannot edit video","The thumbnail, the subtitles and the interactive transcripts of this video can be edited only by the user that uploaded it or by an administrator.",[{name:"OK"}]),!1)}}}))},23022:(e,t,n)=>{n.d(t,{U:()=>b});var i=n(15861),o=n(29439),a=n(64687),r=n.n(a),l=(n(47941),n(89554),n(41539),n(54747),n(26833),n(69826),n(57658),n(85827),n(66992),n(70189),n(78783),n(33948),n(57327),n(91038),n(92222),n(65069),n(38862),n(21249),n(63420)),u=n(70538),s=n(37075),c=n(93949),d=n(20516),v=n(42773),p=n(87866),m=n(96486),f=n(99745),h=n(50897),g=n(73495),w="lw_copied_video_elements_key",b=(0,l.Q_)("elementTools",(function(){var e=(0,l.Jk)((0,s.C)()).interactiveElements,t=(0,l.Jk)((0,d.D)()),n=t.videoDuration,a=t.currentTimeInSeconds,b=(0,h.H)(),y=b.setSideformDisplay,S=b.setActiveSideform,E=(0,v.x)(),_=(0,u.ref)(null),I=(0,u.ref)(null),T=(0,u.ref)(null),D=(0,u.ref)(null),O=(0,u.ref)(!1),k=(0,u.computed)((function(){var t;return null!==(t=e.value[_.value])&&void 0!==t?t:null})),P=(0,u.computed)((function(){var e;return null===(e=k.value)||void 0===e?void 0:e.type})),V=(0,u.computed)((function(){return Object.keys(e.value).length})),M=(0,u.computed)((function(){var t=[];return Object.values(e.value).forEach((function(e){var n=e.actions.find((function(e){return"showSelf"===e.actionName}));if(!n)return null;var i=n.actionTime,o=n.actionTime+n.actionDuration;1e3*a.value>=i&&1e3*a.value<o&&t.push(e)})),t})),C=(0,u.computed)((function(){return M.value.reduce((function(e,t){var n,i;if(T.value.element.id===t.id)return e;var o=(0,p.$U)(null!==(n=null===(i=t.dimensions)||void 0===i?void 0:i.width)&&void 0!==n?n:t.dimensions["min-width"]);return e.add(t.position.left),o&&(e.add(t.position.left+o),e.add(t.position.left+o/2)),e}),new Set)})),A=(0,u.computed)((function(){return M.value.reduce((function(e,t){var n,i;if(T.value.element.id===t.id)return e;var o=(0,p.$U)(null!==(n=null===(i=t.dimensions)||void 0===i?void 0:i.height)&&void 0!==n?n:t.dimensions["min-height"]);return e.add(t.position.top),o&&(e.add(t.position.top+o),e.add(t.position.top+o/2)),e}),new Set)})),H=(0,u.computed)((function(){var e,t;if(!T.value)return null;var n=(0,p.$U)(null!==(e=null===(t=T.value.element.dimensions)||void 0===t?void 0:t.width)&&void 0!==e?e:T.value.element.dimensions["min-width"]),i=T.value.x,o=[Math.round(i),Math.round(i+n),Math.round(i+n/2)],a=o[0],r=o[1],l=o[2];return Array.from(C.value).filter((function(e){var t=Math.round(e);return Math.abs(t-a)<=1||Math.abs(t-r)<=1||Math.abs(t-l)<=1}))})),R=(0,u.computed)((function(){var e,t;if(!T.value)return null;var n=(0,p.$U)(null!==(e=null===(t=T.value.element.dimensions)||void 0===t?void 0:t.height)&&void 0!==e?e:T.value.element.dimensions["min-height"]),i=T.value.y,o=[Math.round(i),Math.round(i+n),Math.round(i+n/2)],a=o[0],r=o[1],l=o[2];return Array.from(A.value).filter((function(e){var t=Math.round(e);return Math.abs(t-a)<=1||Math.abs(t-r)<=1||Math.abs(t-l)<=1}))})),F=function(e){_.value=e,y(!0),S(f.lJ.ELEMENT)},x=function(e,t){var n=(0,c.D1)("history_");e.forEach((function(e){var i=(0,o.Z)(e,2),a=i[0],r=i[1];E.setVideoPropertyPath("data.".concat(a),r,{parentPath:"data",captureGroupId:null!=t?t:n})}))},L=function(){var e=(0,i.Z)(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D.value=t,e.next=3,(0,u.nextTick)();case 3:D.value=null;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{editingElementId:_,editingElement:k,editingElementType:P,hoveredElementData:T,hasElements:V,editingElementNode:I,interactiveElements:e,joditCommandQueue:D,alignmentLinesX:H,alignmentLinesY:R,setEditingElementId:F,setEditingElementNode:function(e){I.value=e,y(!0),S(f.lJ.ELEMENT)},setHoveredElementData:function(e){T.value=e},setElementProperty:function(e,t,n,i){E.setVideoPropertyPath("data.".concat(e,".").concat(t),n,{captureGroupId:i})},addInteractiveElements:x,deleteInteractiveElement:function(e){var t=(0,g.$A)(e,E.video.data),n=(0,c.D1)("history_");t.reverse().forEach((function(e,i){E.deleteVideoPropertyPath("data",e,{captureGroupId:n,withSelectionHistory:i===t.length-1})}))},duplicateElement:function(e){var t=(0,m.cloneDeep)(e),n="el".concat((0,c.D1)());t.id=n,t.position={top:0,left:0},x([[n,t]]),F(n)},deselectEditingElement:function(){_.value=null},hasCopiedElements:O,copyAllElements:function(){window.localStorage.setItem(w,JSON.stringify(e.value)),O.value=!0},clearAllElements:function(e){E.setVideoPropertyPath("data",null,{captureGroupId:e})},pasteAllElements:function(e){var t,i=JSON.parse(null!==(t=window.localStorage.getItem(w))&&void 0!==t?t:"{}"),o=1e3*Math.floor(n.value),a=Object.values(i).map((function(e){var t="el".concat((0,c.D1)());e.id=t;var n=e.actions[0],i=n.actionTime,a=n.actionDuration,r=e.onClickActions.willSeek;return e.actions[0].actionTime=Math.min(i,o),e.actions[0].actionDuration=e.actions[0].actionTime+a>o?o-e.actions[0].actionTime:a,e.actions[0].willSeek=Math.min(r,o),[t,e]}));x(a,e),window.localStorage.removeItem(w),O.value=!1},checkForCopiedElements:function(){var e,t=JSON.parse(null!==(e=window.localStorage.getItem(w))&&void 0!==e?e:"{}");O.value=!!Object.values(t).length},executeJoditCommand:L}}))},33585:(e,t,n)=>{n.d(t,{w:()=>b});n(47941),n(82526),n(57327),n(38880),n(57658),n(49337),n(33321),n(69070);var i=n(93433),o=n(4942),a=(n(92222),n(69826),n(41539),n(26833),n(5212),n(38862),n(89554),n(54747),n(63420)),r=n(66775),l=n(93949),u=n(42773),s=n(99745),c=n(45181),d=n(70538),v=n(20516),p=n(50897),m=n(84564);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g="lw_copied_video_headings_key",w="lw_headings_ts_proximity_warning_key",b=(0,a.Q_)("headingTools",(function(){var e=(0,u.x)(),t=(0,a.Jk)((0,r.q)()).headingsData,n=(0,a.Jk)((0,v.D)()).videoDuration,o=(0,p.H)(),f=o.setActiveSideform,b=o.setSideformDisplay,y=(0,d.ref)(!1),S=(0,d.ref)(null),E=function(e){b(!0),f(s.lJ.HEADINGS),S.value=e};return{headingsData:t,hasCopiedHeadings:y,focusedHeadingId:S,focusHeading:E,addHeading:function(n){var o;if((0,l.Fs)(m._.VIDEO_HEADINGS)){var a=1e3*(0,c.t)().time,r=100*Math.floor(a/100),u=h({id:(0,l.D1)("heading_"),title:"",pinIcon:"default",seekTime:r},n),s=null!==(o=JSON.parse(window.localStorage.getItem(w)))&&void 0!==o?o:[],d=Object.values(t.value).find((function(e){return Math.abs(e.seekTime-u.seekTime)<2e3})),v=s.some((function(e){return Math.abs(e-u.seekTime)<2e3}));d&&!v?(window.showMessage("alert","Add chapter","A chapter already exists at this timestamp. For an optimal viewing experience, we <br> recommend keeping at least 2 seconds between chapters. <br><br> Do you want to proceed anyway?",[{name:"Add chapter",func:p,args:[u],class:"solid"},{name:"Cancel",func:function(){},args:[]}]),window.localStorage.setItem(w,JSON.stringify([].concat((0,i.Z)(s),[u.seekTime])))):p(u)}function p(t){var n=(0,l.D1)("history_");e.setVideoPropertyPath("videoHeadings.headingsData.".concat(t.id),t,{parentPath:"videoHeadings.headingsData",captureGroupId:n}),E(t.id)}},updateHeading:function(t,n,i){e.setVideoPropertyPath("videoHeadings.headingsData.".concat(t,".").concat(n),i),E(t)},deleteHeading:function(t){e.deleteVideoPropertyPath("videoHeadings.headingsData",t)},copyAllHeadings:function(){var t;window.localStorage.setItem(g,JSON.stringify(null===(t=e.video.videoHeadings)||void 0===t?void 0:t.headingsData)),y.value=!0},pasteAllHeadings:function(t){var i,o=JSON.parse(null!==(i=window.localStorage.getItem(g))&&void 0!==i?i:"{}"),a=1e3*Math.floor(n.value);Object.values(o).forEach((function(n){var i="heading_".concat((0,l.D1)()),o=Math.min(n.seekTime,a);e.setVideoPropertyPath("videoHeadings.headingsData.".concat(i),h(h({},n),{},{id:i,seekTime:o}),{captureGroupId:t,parentPath:"videoHeadings.headingsData"})})),window.localStorage.removeItem(g),y.value=!1},checkForCopiedHeadings:function(){var e,t=JSON.parse(null!==(e=window.localStorage.getItem(g))&&void 0!==e?e:"{}");y.value=!!Object.values(t).length},clearAllHeadings:function(t){e.setVideoPropertyPath("videoHeadings.headingsData",{},{captureGroupId:t})}}}))},59611:(e,t,n)=>{n.d(t,{j:()=>u});var i=n(63420),o=n(66775),a=n(9408),r=n(70538),l=n(42773),u=(0,i.Q_)("authorVideoSettings",(function(){var e=(0,i.Jk)((0,o.q)()),t=e.headingsTocAvailable,n=e.showHeadingsTocOnLoad,u=e.headingsTitleDisplay,s=e.headingsPinDisplay,c=e.videoCommentsEnabled,d=e.videoReactionsEnabled,v=e.inheritInteractionsFromSchool,p=e.transcriptFromSubs,m=e.transcriptMainLanguage,f=(0,a.F)(),h=(0,a.F)().setSkin,g=(0,l.x)().setVideoPropertyPath;return{timelineSkin:(0,r.computed)((function(){return f.interactiveVideoSettings.skin})),setTimelineSkin:function(e){h(e)},headingsTocAvailable:t,showHeadingsTocOnLoad:n,headingsTitleDisplay:u,headingsPinDisplay:s,inheritInteractionsFromSchool:v,videoCommentsEnabled:c,videoReactionsEnabled:d,transcriptFromSubs:p,transcriptMainLanguage:m,setDisableWatermark:function(e){g("disableWatermark",e)},setHeadingsTocAvailable:function(e){g("videoHeadings.headingsTocAvailable",e)},setShowHeadingsTocOnLoad:function(e){g("videoHeadings.showHeadingsTocOnLoad",e)},setHeadingsTitleDisplay:function(e){g("videoHeadings.headingsTitleDisplay",e)},setHeadingsPinDisplay:function(e){g("videoHeadings.headingsPinDisplay",e)},setVideoComments:function(e){g("hasCommentInteractions",e)},setVideoReactions:function(e){g("hasReactionInteractions",e)},setInheritInteractionsFromSchool:function(e){g("inheritInteractionsFromSchool",e)},setTranscriptFromSubs:function(e){g("transcriptFromSubs",e)},setTranscriptMainLanguage:function(e){g("transcriptMainLanguage",e)}}}))},42773:(e,t,n)=>{n.d(t,{x:()=>y});var i=n(15861),o=n(64687),a=n.n(o),r=(n(92222),n(63420)),l=n(66775),u=n(93949),s=n(19164),c=n(52832),d=n(70538),v=n(59611),p=n(50519),m=n(23022),f=n(96486),h=n(68485),g=n(33585),w=n(99745),b=n(50897),y=(0,r.Q_)("videoTools",(function(){var e=(0,r.Jk)((0,l.q)()).video,t=(0,p.G)(),n=(0,m.U)(),o=(0,g.w)(),y=(0,b.H)(),S=(0,d.ref)({}),E=(0,d.ref)([]),_=(0,d.computed)((function(){var e;return n.hasElements||(null===(e=o.headingsData)||void 0===e?void 0:e.length)})),I=(0,d.computed)((function(){return n.hasCopiedElements||o.hasCopiedHeadings})),T=function(){window.authorController.setContentCheckFlag(!1)},D=function(){var e=(0,i.Z)(a().mark((function e(){var t,n,i,o,r,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,v.j)(),n=t.transcriptFromSubs,i=S.value,o=i.courseId,r=i.videoId,l={transcriptFromSubs:n},e.prev=3,e.next=6,(0,u.Eh)(s.Z.saveInteractiveVideo(o,r,l));case 6:window.showMessage(h.zG.SUCCESS,"Success","Transcript settings were saved!",null,[],{},!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),window.showMessage(h.zG.ERROR,"An error occurred.","Transcript settings were not saved!",null,[],{},!0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var t=(0,i.Z)(a().mark((function t(){var n,i,o,r,l,c,d,p,m;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0!==window.mixpanel&&void 0!==window.mixpanel.project_trials&&window.mixpanel.project_trials.track("Video Editor - Save",{}),r=(0,v.j)(),l=r.timelineSkin,(c=e.value).videoSkin=l,window.WI.track(w.Dp.SAVED_IVIDEO,{change_transcript:c.transcriptFromSubs,community_emojis:c.hasReactionInteractions,community_comments:c.hasCommentInteractions}),delete c.emojis,delete c.availableVideoQualities,delete c.variables,null===(n=window.top)||void 0===n||null===(i=n.parentVue)||void 0===i||null===(o=i.$store)||void 0===o||o.dispatch("START_LOADER","full"),t.prev=10,t.next=13,(0,u.Eh)(s.Z.saveInteractiveVideo(S.value.courseId,S.value.videoId,c));case 13:window.authorController.setContentCheckFlag(!0),window.showMessage(h.zG.SUCCESS,"Success","Video was saved!",null,[],{},!0),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(10),window.showMessage(h.zG.ERROR,"An error occurred.","Video was not saved!",null,[],{},!0);case 20:return t.prev=20,null===(d=window.top)||void 0===d||null===(p=d.parentVue)||void 0===p||null===(m=p.$store)||void 0===m||m.dispatch("STOP_LOADER","full"),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[10,17,20,23]])})));return function(){return t.apply(this,arguments)}}(),k=function(){var t=(0,i.Z)(a().mark((function t(){var n,i,o,r,l,c,d,p,m,g;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0!==window.mixpanel&&void 0!==window.mixpanel.project_trials&&window.mixpanel.project_trials.track("Video Editor - Save settings",{}),r=(0,f.cloneDeep)(e.value),l=(0,v.j)(),c=l.timelineSkin,d={videoSkin:c,hasCommentInteractions:r.hasCommentInteractions,hasReactionInteractions:r.hasReactionInteractions,inheritInteractionsFromSchool:r.inheritInteractionsFromSchool,transcriptFromSubs:r.transcriptFromSubs,transcriptMainLanguage:r.transcriptMainLanguage,disableWatermark:r.disableWatermark,videoHeadings:r.videoHeadings},window.WI.track(w.Dp.SAVED_IVIDEO,{change_transcript:d.transcriptFromSubs,community_emojis:d.hasReactionInteractions,community_comments:d.hasCommentInteractions}),null===(n=window.top)||void 0===n||null===(i=n.parentVue)||void 0===i||null===(o=i.$store)||void 0===o||o.dispatch("START_LOADER","full"),t.prev=7,t.next=10,(0,u.Eh)(s.Z.saveInteractiveVideo(S.value.courseId,S.value.videoId,d));case 10:window.showMessage(h.zG.SUCCESS,"Success","Video settings were saved!",null,[],{},!0),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(7),window.showMessage(h.zG.ERROR,"An error occurred.","Video settings were not saved!",null,[],{},!0);case 16:return t.prev=16,null===(p=window.top)||void 0===p||null===(m=p.parentVue)||void 0===m||null===(g=m.$store)||void 0===g||g.dispatch("STOP_LOADER","full"),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[7,13,16,19]])})));return function(){return t.apply(this,arguments)}}();return{video:e,videoParams:S,coursesVideoList:E,hasContent:_,hasCopiedContent:I,setVideoParams:function(e){S.value=e},deleteVideoPropertyPath:function(i,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.markChangesForSave,l=void 0===r||r,s=a.captureGroupId,v=void 0===s?null:s,p=a.withHistory,m=void 0===p||p,h=a.withSelectionHistory,g=void 0===h||h,w=(0,u._M)(e.value,i);m&&t.recordHistorySnapshot({captureGroupId:v,propertyPath:"".concat(i,".").concat(o),value:(0,f.cloneDeep)(w[o]),selectedElementId:n.editingElementId,selectionData:g?(0,u.FA)():null}),(0,d.del)(w,o),(0,c.nR)(e.value,i,w),l&&!y.videoSettingsModalDisplay&&T()},setVideoPropertyPath:function(i,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.markChangesForSave,l=void 0===r||r,s=a.captureGroupId,d=void 0===s?null:s,v=a.withHistory,p=void 0===v||v,m=a.parentPath,h=void 0===m?null:m;p&&t.recordHistorySnapshot({captureGroupId:d,propertyPath:null!=h?h:i,value:(0,f.cloneDeep)((0,u._M)(e.value,null!=h?h:i)),selectedElementId:n.editingElementId,selectionData:(0,u.FA)()}),(0,c.nR)(e.value,i,o),l&&!y.videoSettingsModalDisplay&&T()},saveInteractiveVideo:O,saveInteractiveVideoSettings:k,saveTranscriptSetting:D,setContentCheck:T,setCoursesVideoList:function(e){E.value=e},checkForCopiedContent:function(){n.checkForCopiedElements(),o.checkForCopiedHeadings()},clearContent:function(){var e=(0,u.D1)("history_");n.clearAllElements(e),o.clearAllHeadings(e)},copyContent:function(){n.copyAllElements(),o.copyAllHeadings()},pasteContent:function(){var e=(0,u.D1)("history_");n.pasteAllElements(e),o.pasteAllHeadings(e)}}}))},19164:(e,t,n)=>{n.d(t,{Z:()=>o});n(92222),n(38862);var i=n(46536);const o={getInteractiveVideoSettings:function(){return i.ZP.get("settings/interactive-video")},getInteractiveVideo:function(e){var t="video/".concat(e.courseId,"/").concat(e.videoId);return e.password&&(t+="?password=".concat(encodeURIComponent(e.password))),i.ZP.get(t)},getVideoTranscript:function(e){return i.ZP.get("library/video/".concat(e,"/transcript"))},getVideoTranscriptV2:function(e){return i.ZP.get("library/video/".concat(e,"/transcriptV2"))},downloadVideoTranscript:function(e,t){return window.open("".concat(window.api,"/library/video/").concat(e,"/transcript/download?").concat(window.oauthInfo,"&filename=").concat(t,".txt"))},saveInteractiveVideo:function(e,t,n){return i.ZP.post("video/".concat(e,"/").concat(t),n)},getVideoThumbnail:function(e){return i.ZP.get("library/video/".concat(e,"/thumbnail"))},setVideoThumbnailFromTimestamp:function(e,t){return i.ZP.get("library/video/".concat(e,"/thumbnail/").concat(t))},setVideoThumbnailFromUrl:function(e,t){return i.ZP.post("library/video/".concat(e,"/thumbnail/url"),{url:t})},setVideoDisableWatermark:function(e,t,n){var o="data=".concat(encodeURIComponent(JSON.stringify({disableWatermark:n})));return i.ZP.post("video/".concat(e,"/").concat(t),o,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},addVideoReaction:function(e,t,n){return i.ZP.post("video/".concat(e,"/").concat(t,"/react"),n)},deleteVideoReaction:function(e,t,n){return i.ZP.delete("video/".concat(e,"/").concat(t,"/react/").concat(n))},getVideoReactions:function(e,t){return i.ZP.get("video/".concat(e,"/").concat(t,"/reactions"))}}},87866:(e,t,n)=>{n.d(t,{$U:()=>b,Gm:()=>g,Wr:()=>w,hW:()=>h,s:()=>S,tq:()=>y});n(47941),n(82526),n(38880),n(57658),n(89554),n(54747),n(49337),n(33321),n(69070);var i=n(29439),o=n(4942),a=(n(54678),n(57327),n(41539),n(26699),n(32023),n(83710),n(66992),n(38559),n(21249),n(69720),n(32564),n(74916),n(4723),n(91058),n(72349)),r=n(52832),l=n(96486),u=n(93949),s=n(99745);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t;if(!(void 0!==e.eventtype||void 0!==e.htmlEl))return e;var n={id:"",type:"",label:"",actions:[{actionName:"showSelf",actionTime:0,actionDuration:0,actionParams:{willPause:!1,willSeek:!1,willRingtone:!1}}],onClickActions:{willPause:!1,willSeek:!1,willShowMessage:!1,messageTitle:!1,messageDescription:!1},shouldInitSomeAction:!1,shouldEndSomeAction:!1,templateId:"textTemplate1",position:{left:0,top:0},dimensions:{width:250,height:250},layerIndex:100,earliestActionTime:0,latestActionTime:0,innerHtmlContent:""};return n.actions[0].actionTime=500*parseFloat(e.starttime),n.actions[0].actionDuration=500*parseFloat(null!==(t=e.duration)&&void 0!==t?t:"1"),n.oldTemplateId=e.htmlTemplate,n.templateId="oldHtmlTemplate",n.type="oldHtmlTemplate",n.label="HTML template",n.id=e.id,n.innerHtmlContent=e.htmlEl,n}function p(e){var t,n;if(!e.visibility)return!0;var i=(0,u.EQ)(null===(t=e.visibility)||void 0===t?void 0:t.value,(n={},(0,o.Z)(n,s.Un.NOBODY,!1),(0,o.Z)(n,s.Un.TAGGED_USERS,function(e){var t,n;if(!window.me)return!1;var i=null!==(t=(0,u._M)(e,"visibility"))&&void 0!==t?t:{},o=i.tagsToShowTo||[],a=i.tagsToHideFrom||[],r=null!==(n=window.me.tags)&&void 0!==n?n:[],l=r.filter((function(e){return o.includes(e)})).length>0,s=r.filter((function(e){return a.includes(e)})).length>0;return(0===o.length||l)&&!s}(e)),(0,o.Z)(n,"default",!0),n)),a=(new Date).getTime()/1e3,r=!0;return e.visibility.timeframeEnabled&&(e.visibility.startTime&&e.visibility.startTime>a&&(r=!1),e.visibility.endTime&&e.visibility.endTime<a&&(r=!1)),i&&r}function m(e){var t,n,i,o,r,l;return d(d({},e),{},{layerIndex:null!==(t=e.layerIndex)&&void 0!==t?t:100,animates:null===(n=e.animates)||void 0===n||n,shouldInitAnimation:null===(i=e.shouldInitAnimation)||void 0===i||i,animation:null!==(o=null!==(r=e.animation)&&void 0!==r?r:a.id[e.templateId])&&void 0!==o?o:a.id.fallback,component:null!==(l=a.pK[e.type])&&void 0!==l?l:a.pK.default,isEligibleToView:p(e)})}function f(e){return(0,l.flow)([v,m])(e)}var h=function(e){return e?Object.fromEntries(Object.entries(e).map((function(e){var t=(0,i.Z)(e,2);return[t[0],f(t[1])]}))):{}};function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.rR.CONTINUOUS;if(e)if([a.rR.WHEN_NEEDED,a.rR.CONTINUOUS].includes(n)){var i=(0,r.HQ)(e);if(i){var o,l="lw_scrollRaf_".concat(t),u=!1,s=0;window[l]&&cancelAnimationFrame(window[l]);var c=n===a.rR.CONTINUOUS,d=n===a.rR.WHEN_NEEDED,v=(0,r.NI)(e,i),p=v.isInViewCompletely,m=v.distanceFromCenter,f=v.distanceFromTop,h=c?m:f;if(!(d&&p||c&&Math.abs(h)<15)){var g=function(e,t,n){return(1-n)*e+n*t},w=function(e,t,n){return Math.min(Math.max(e,t),n)},b=function(e,t){var n=(0,r.NI)(e,t),i=n.distanceFromCenter,o=n.distanceFromTop,a=c?i:o,l=Math.floor(t.scrollHeight-t.clientHeight);return w(t.scrollTop+a,0,l)},y=function(e,t){e.scrollTop=t},S=function(){u=!0},E=function(e){e.addEventListener("touchstart",S),e.addEventListener("wheel",S)},_=function(e){e.removeEventListener("touchstart",S),e.removeEventListener("wheel",S)},I=function t(){if(window[l]===o){var n=b(e,i);y(i,g(i.scrollTop,n,.09)),!u&&(Math.abs(i.scrollTop-n)>=5||s<30)?(o=requestAnimationFrame(t),window[l]=o,s++):(window[l]=null,_(i))}};if(Math.abs(h)>Math.max(4*i.offsetHeight,3e3)){var T=h>0?"bottom":"top",D=i.scrollTop+h,O="bottom"===T?D-1500:D+1500;y(i,O)}setTimeout((function(){o=requestAnimationFrame(I),window[l]=o,E(i)}),150)}}else console.error("Scroller not found")}else console.error("Incorrect scroll setting");else console.error("Target node was not provided")}var w=function(e,t){if(t&&e){var n,i=!1,o=0;window.lw_scrollRaf&&cancelAnimationFrame(window.lw_scrollRaf);var a=function(e,t){var n,i,o,a=(0,r.NI)(e,t).distanceFromTop,l=Math.floor(t.scrollHeight-t.clientHeight);return n=t.scrollTop+a+20,i=0,o=l,Math.min(Math.max(n,i),o)},l=function(){i=!0},u=function r(){if(window.lw_scrollRaf===n){var u,s,c,d,v=a(e,t);u=t,c=t.scrollTop,s=(1-(d=.09))*c+d*v,u.scrollTop=s,!i&&(Math.abs(t.scrollTop-v)>=0||o<30)?(n=requestAnimationFrame(r),window.lw_scrollRaf=n,o++):(window.lw_scrollRaf=null,function(e){e.removeEventListener("touchstart",l),e.removeEventListener("wheel",l)}(t))}};setTimeout((function(){var e;n=requestAnimationFrame(u),window.lw_scrollRaf=n,(e=t).addEventListener("touchstart",l),e.addEventListener("wheel",l)}),150)}},b=function(e){if("string"!=typeof e)return e;var t=e.match(/\d+/);return t?parseInt(t[0],10):NaN},y=function(e){return window.isMobile(e)},S=function(){return y("ios")}},37075:(e,t,n)=>{n.d(t,{C:()=>l});n(57327),n(41539),n(26833);var i=n(63420),o=n(70538),a=n(87866),r=n(66775),l=(0,i.Q_)("interactiveElements",(function(){var e=(0,i.Jk)((0,r.q)()).video,t=(0,o.ref)(null),n=(0,o.computed)((function(){var t;return null!==(t=(0,a.hW)(null==e?void 0:e.value.data))&&void 0!==t?t:{}})),l=(0,o.computed)((function(){return Object.values(n.value).filter((function(e){return e.isEligibleToView}))})),u=(0,o.computed)((function(){return!!t.value}));return{interactiveElements:n,interactiveMessageVisible:u,interactiveMessageData:t,eligibleElementsToView:l,setInteractiveMessageData:function(e){t.value=e}}}))},9408:(e,t,n)=>{n.d(t,{F:()=>c});var i=n(15861),o=n(64687),a=n.n(o),r=(n(91058),n(41539),n(88674),n(63420)),l=n(70538),u=n(93949),s=n(19164),c=(0,r.Q_)("settings",(function(){var e=(0,l.ref)({}),t=(0,l.ref)(!window.activeSiteTemplate),n=(0,l.computed)((function(){var t=parseInt(e.value.site_video_bar_opacity,10);return{allowFullscreenOnInteractiveVideosIOS:e.value.site_video_allow_fullscreen_on_interactive_videos_ios,videoBarOpacity:t&&"learnworlds_wistia"===e.value.site_video_storage?t:100,collapseVideoBarTime:e.value.site_video_collapse_video_bar_time,autoplay:e.value.site_video_autoplay,resume:e.value.site_video_resume,skin:e.value.site_video_skin,storage:e.value.site_video_storage,vimeoControlsOff:e.value.site_video_vimeo_controls_off,videoCommentsEnabled:e.value.site_video_comments,videoReactionsEnabled:e.value.site_video_reactions,videoReactionBar:e.value.site_video_reaction_bar}})),o=(0,l.computed)((function(){return{colorActive:e.value.site_video_interactive_transcript_color_active,colorEnabled:e.value.site_video_interactive_transcript_color_enabled,colorVisited:e.value.site_video_interactive_transcript_color_visited,enableDownload:e.value.site_video_interactive_transcript_enable_download,transcriptScroll:e.value.site_video_interactive_transcript_scroll,transcriptSize:e.value.site_video_interactive_transcript_size,transcriptView:e.value.site_video_interactive_transcript_view}})),r=(0,l.computed)((function(){var t;return{emailEnabled:e.value.site_watermark_email,isMovable:e.value.site_watermark_movable,logoEnabled:e.value.site_watermark_school_logo,moveInterval:null!==(t=e.value.site_watermark_move_interval)&&void 0!==t?t:6e4,schoolNameEnabled:e.value.site_watermark_school_name,schoolName:e.value.site_name,size:e.value.site_watermark_size,startingPosition:e.value.site_watermark_position,transparency:e.value.site_watermark_transparency,userIdEnabled:e.value.site_watermark_userid,logoUrl:e.value.site_watermark_school_logo_url}})),c=function(){var t=(0,i.Z)(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,u.Eh)(s.Z.getInteractiveVideoSettings(),!1);case 3:n=t.sent,i=n.data.settings,e.value=i,t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 10:case"end":return t.stop()}var i}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return{isLegacySite:t,interactiveVideoSettings:n,transcriptSettings:o,watermarkSettings:r,loadSettings:c,setSkin:function(t){e.value.site_video_skin=t}}}))},20516:(e,t,n)=>{n.d(t,{D:()=>l});n(32564);var i=n(63420),o=n(70538),a=n(66775),r=n(45181),l=(0,i.Q_)("timeline",(function(){var e=(0,i.Jk)((0,a.q)()).video,t=(0,r.t)(),n=(0,o.ref)(null),l=(0,o.ref)(!1),u=(0,o.ref)(!1),s=(0,o.ref)(null),c=(0,o.computed)((function(){var t;return null===(t=e.value)||void 0===t?void 0:t.duration})),d=(0,o.computed)((function(){return 1e3*n.value}));return{currentTimeInSeconds:n,videoDuration:c,playing:l,buffering:u,currentTimeRounded:d,setCurrentTimeInSeconds:function(e){var i,o;n.value=e,s.value&&(window.clearInterval(s.value),s.value=null),s.value=(i=t.playbackRate,o=t.duration,window.setInterval((function(){l.value&&o>n.value?n.value+=.1:window.clearInterval(s)}),100/i))},setPlaying:function(e){l.value=e},setBuffering:function(e){u.value=e}}}))},50519:(e,t,n)=>{n.d(t,{G:()=>f});var i=n(4942),o=n(15861),a=n(64687),r=n.n(a),l=(n(69600),n(47941),n(82526),n(57327),n(41539),n(38880),n(57658),n(89554),n(54747),n(49337),n(33321),n(69070),n(63420)),u=(n(32564),n(93949)),s=n(70538),c=n(42773),d=n(23022),v=n(50897);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=(0,l.Q_)("videoHistory",(function(){var e=(0,c.x)(),t=(0,d.U)().setEditingElementId,n=(0,v.H)(),i=function(){var n=(0,o.Z)(r().mark((function n(i){var o,a,l,c,d,v,p;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=i.historySnapshot,a=document,null==(l=a.activeElement)||l.blur(),n.next=5,(0,s.nextTick)();case 5:return console.log(o),window.changesAreSaved=!1,void 0===o.value?(c=o.propertyPath.split("."),d=c.pop(),v=c.join("."),e.deleteVideoPropertyPath(v,d,{withHistory:!1})):e.setVideoPropertyPath(o.propertyPath,o.value,{withHistory:!1}),n.next=10,(0,s.nextTick)();case 10:if(l&&document.body.contains(l)&&l.focus(),p=o.selectedElementId){n.next=14;break}return n.abrupt("return");case 14:if(t(p),!o.selectionData){n.next=26;break}return n.next=18,(0,u.XT)();case 18:return n.prev=18,n.next=21,(0,u.gk)(o.selectionData);case 21:n.next=26;break;case 23:n.prev=23,n.t0=n.catch(18),console.error(n.t0);case 26:case"end":return n.stop()}}),n,null,[[18,23]])})));return function(e){return n.apply(this,arguments)}}(),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.timeMachineEnabled,n=void 0===t?(0,s.ref)(!0):t,i=e.recordingEnabled,a=void 0===i?(0,s.ref)(!0):i,l=e.revertHistorySnapshot,c=void 0===l?function(){return null}:l,d=e.getHistorySnapshotId,v=void 0===d?function(){return null}:d,p=e.applyHistorySnapshot,m=void 0===p?function(){}:p,f=(0,s.ref)([]),h=(0,s.ref)([]),g=(0,s.ref)({}),w=(0,s.ref)(!1),b=(0,s.computed)((function(){return a.value&&n.value&&!w.value})),y=(0,s.computed)((function(){return f.value.length>0&&b.value})),S=(0,s.computed)((function(){return h.value.length>0&&b.value})),E=(0,s.computed)((function(){return f.value[f.value.length-1]})),_=(0,s.computed)((function(){return h.value[h.value.length-1]})),I=function(){f.value.pop()},T=function(){h.value.pop()},D=function(e){f.value.push(e)},O=function(e){h.value.push(e)},k=function(){f.value=[]},P=function(){h.value=[]},V=function(){f.value=[],h.value=[]},M=function(e){w.value=e},C=function(){var e=(0,o.Z)(r().mark((function e(){var t,n,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y.value){e.next=3;break}return console.error("Attempted to undo, but that doesn't appear possible."),e.abrupt("return");case 3:return M(!0),n=E.value,I(),i=n.captureGroupId,e.next=9,c(n);case 9:return o=e.sent,e.next=12,m({historySnapshot:n});case 12:O(o),M(!1),i&&i===(null===(t=E.value)||void 0===t?void 0:t.captureGroupId)&&C();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,o.Z)(r().mark((function e(){var t,n,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.value||console.error("Attempted to redo, but that doesn't appear possible."),M(!0),n=_.value,T(),i=n.captureGroupId,e.next=7,c(n);case 7:return o=e.sent,e.next=10,m({historySnapshot:n});case 10:if(D(o),M(!1),!i||i!==(null===(t=_.value)||void 0===t?void 0:t.captureGroupId)){e.next=15;break}return e.next=15,A();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(e){if(b.value)if(a.value){var t=v(e),n=function(){window.clearTimeout(g.value[t]),g.value[t]=window.setTimeout((function(){delete g.value[t]}),350)};if(g.value[t]&&!e.breakStacking)return console.log("Previous state exist for the object"),void n();console.log("======== RECORDED HISTORY MUTATION ========="),console.log(e),D((0,u.ut)(e)),P(),n()}else console.warn("History recording is currently disabled")};return{canUndo:y,canRedo:S,undo:C,redo:A,clearStack:V,clearRedoStack:P,clearUndoStack:k,recordHistorySnapshot:H}}({getHistorySnapshotId:function(e){return e.propertyPath},applyHistorySnapshot:i,revertHistorySnapshot:function(t){return m(m({},null!=t?t:{}),{},{value:(0,u._M)(e.video,t.propertyPath),selectionData:(0,u.FA)()})},recordingEnabled:(0,s.computed)((function(){return!n.videoSettingsModalDisplay}))});return{canUndo:a.canUndo,canRedo:a.canRedo,undo:a.undo,redo:a.redo,recordHistorySnapshot:a.recordHistorySnapshot}}))},66775:(e,t,n)=>{n.d(t,{q:()=>m});var i=n(15861),o=n(64687),a=n.n(o),r=(n(2707),n(91058),n(41539),n(88674),n(63420)),l=n(70538),u=n(93949),s=n(19164),c=n(75316),d=n.n(c),v=n(9408),p=n(72349),m=(0,r.Q_)("videoPlayer",(function(){var e=(0,r.Jk)((0,v.F)()),t=e.interactiveVideoSettings,n=e.isLegacySite,o=(0,l.ref)({}),c=(0,l.ref)({}),m=(0,l.ref)(!1),f=(0,l.ref)(!1),h=(0,l.ref)(null),g=(0,l.ref)(null),w=(0,l.ref)([]),b=(0,l.ref)(p.Yx.NONE),y=(0,l.computed)((function(){var e;return(null!==(e=w.value)&&void 0!==e?e:[]).sort((function(e,t){return parseInt(t,10)-parseInt(e,10)}))})),S=(0,l.computed)((function(){var e;return null!==(e=o.value.fonts)&&void 0!==e?e:{}})),E=(0,l.computed)((function(){return"wistia"===o.value.type})),_=(0,l.computed)((function(){return"vimeo"===o.value.type})),I=(0,l.computed)((function(){return E.value?o.value.sourceid:_.value?o.value.vimeoid:null})),T=(0,l.computed)((function(){return o.value.courseLibraryVideoId||o.value.videoLibraryId})),D=(0,l.computed)((function(){return!!T.value})),O=(0,l.computed)((function(){return!!o.value.videoLibraryId})),k=(0,l.computed)((function(){return"wistia"===o.value.type})),P=(0,l.computed)((function(){var e,t;return d()(null!==(e=null===(t=o.value.videoHeadings)||void 0===t?void 0:t.headingsData)&&void 0!==e?e:{},"seekTime")})),V=(0,l.computed)((function(){var e,t;return null!==(e=null===(t=o.value.videoHeadings)||void 0===t?void 0:t.headingsTitleDisplay)&&void 0!==e?e:"always"})),M=(0,l.computed)((function(){var e;return null===(e=o.value.videoHeadings)||void 0===e?void 0:e.headingsTocAvailable})),C=(0,l.computed)((function(){var e;return null===(e=o.value.videoHeadings)||void 0===e?void 0:e.showHeadingsTocOnLoad})),A=(0,l.computed)((function(){var e;return null===(e=o.value.videoHeadings)||void 0===e?void 0:e.headingsPinDisplay})),H=(0,l.computed)((function(){var e;return(null===(e=t.value)||void 0===e?void 0:e.skin)||"basic_white"})),R=(0,l.computed)((function(){var e;return!(null===(e=t.value)||void 0===e||!e.autoplay)})),F=(0,l.computed)((function(){var e;return!(null===(e=t.value)||void 0===e||!e.resume)})),x=(0,l.computed)((function(){var e,t;return null===(e=null===(t=o.value)||void 0===t?void 0:t.inheritInteractionsFromSchool)||void 0===e||e})),L=(0,l.computed)((function(){var e,i,a;return!n.value&&(x.value?null===(a=t.value)||void 0===a?void 0:a.videoCommentsEnabled:null!==(e=null===(i=o.value)||void 0===i?void 0:i.hasCommentInteractions)&&void 0!==e&&e)})),N=(0,l.computed)((function(){var e,i;return!n.value&&(x.value?null===(i=t.value)||void 0===i?void 0:i.videoReactionsEnabled:null!==(e=o.value.hasReactionInteractions)&&void 0!==e&&e)})),j=(0,l.computed)((function(){var e;return null===(e=o.value)||void 0===e?void 0:e.transcriptFromSubs})),U=(0,l.computed)((function(){var e;return null===(e=o.value)||void 0===e?void 0:e.transcriptMainLanguage})),Z=(0,l.computed)((function(){var e,t;return null!==(e=null===(t=o.value)||void 0===t?void 0:t.variables)&&void 0!==e?e:{}})),G=function(e){c.value=e},B=function(e){w.value=null!=e?e:[]},J=function(e){o.value=e},q=function(){var e=(0,i.Z)(a().mark((function e(t){var n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b.value=p.Yx.LOADING,e.next=4,(0,u.Eh)(s.Z.getInteractiveVideo(t),!1);case 4:n=e.sent,m.value=n.data.deleted,h.value=n.data.frozenStatus,f.value=n.data.isFrozen,g.value=n.data.videoUploadedBy,i=n.data.video,J(i),B(i.availableVideoQualities),G({courseId:t.courseId,videoId:t.videoId,videoLibraryId:i.courseLibraryVideoId||i.videoLibraryId,type:i.type,title:i.title}),b.value=p.Yx.LOADED,e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(0),b.value=p.Yx.ERROR,e.abrupt("return",Promise.reject(e.t0));case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return{availableVideoQualities:y,fonts:S,isCourseLibraryVideo:D,isFromExternalSource:O,isFrozen:f,frozenStatus:h,videoUploadedBy:g,isWistiaVideo:E,isVimeoVideo:_,headingsData:P,headingsTitleDisplay:V,headingsTocAvailable:M,headingsPinDisplay:A,showHeadingsTocOnLoad:C,showVideoStats:k,shouldAutoplay:R,shouldResume:F,sourceVideoId:I,timelineSkin:H,video:o,videoLibraryId:T,videoParams:c,inheritInteractionsFromSchool:x,videoCommentsEnabled:L,videoReactionsEnabled:N,transcriptFromSubs:j,transcriptMainLanguage:U,videoLoading:b,textVariables:Z,loadVideo:q,setVideoQualities:B}}))},45181:(e,t,n)=>{n.d(t,{t:()=>v});var i=n(15861),o=n(64687),a=n.n(o),r=(n(41539),n(88674),n(70538)),l=(n(91058),n(32564),n(89554),n(9408)),u=["click","keydown","touchstart","touchmove","mouseenter","mousemove","mousedown","pointermove"];function s(e){var t=(0,r.ref)(!0),n=(0,r.ref)(null),i=(0,l.F)(),o=(0,r.computed)((function(){var e;return parseInt(null!==(e=i.interactiveVideoSettings.collapseVideoBarTime)&&void 0!==e?e:5e3,10)})),a=function(){n.value&&clearTimeout(n.value)},s=function(){a(),t.value=!0,n.value=setTimeout((function(){t.value=!1}),o.value)},c=(0,r.watch)(e,(function(){e.value&&(u.forEach((function(t){e.value.addEventListener(t,s)})),c())}),{immediate:!0});return(0,r.onUnmounted)((function(){u.forEach((function(t){e.value.removeEventListener(t,s)})),a()})),{controlsVisible:t}}var c=n(63420),d=function(){var e=(0,i.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.createElement("video"),e.abrupt("return",new Promise((function(e){t.addEventListener("volumechange",(function n(){t.removeEventListener("volumechange",n),e(.5===t.volume)})),t.volume=.5})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=(0,c.Q_)("videoControls",(function(){var e=(0,r.ref)(null),t=(0,r.ref)(null),n=(0,r.computed)((function(){var t;return null===(t=e.value)||void 0===t?void 0:t.time})),o=(0,r.computed)((function(){var t;return null===(t=e.value)||void 0===t?void 0:t.bufferedTime})),l=(0,r.computed)((function(){var t;return null===(t=e.value)||void 0===t?void 0:t.duration})),u=(0,r.computed)((function(){var t;return null===(t=e.value)||void 0===t?void 0:t.playing})),c=(0,r.computed)((function(){var t;return null===(t=e.value)||void 0===t?void 0:t.selectedLanguage})),v=(0,r.computed)((function(){var t;return null===(t=e.value)||void 0===t?void 0:t.playbackRate})),p=(0,r.computed)((function(){var t;return null===(t=e.value)||void 0===t?void 0:t.volume})),m=(0,r.computed)((function(){var t;return null===(t=e.value)||void 0===t?void 0:t.quality})),f=(0,r.computed)((function(){var t;return null===(t=e.value)||void 0===t?void 0:t.captions})),h=(0,r.computed)((function(){var t;return null===(t=e.value)||void 0===t?void 0:t.ended})),g=(0,r.computed)((function(){var t;return null===(t=e.value)||void 0===t?void 0:t.ready})),w=(0,r.computed)((function(){var t;return null===(t=e.value)||void 0===t?void 0:t.allowFullscreen})),b=(0,r.ref)(!1),y=(0,r.ref)(!1),S=(0,r.ref)(!1),E=(0,r.ref)(0),_=(0,r.ref)(null),I=(0,r.ref)(!0),T=(0,r.ref)(!0),D=(0,r.computed)((function(){return _.value})),O=(0,r.computed)((function(){return _.value||!u.value})),k=function(){var n=(0,i.Z)(a().mark((function n(i,o){var l;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.value=i,t.value=o,l=(0,r.watch)(o,(function(){o.value&&(I.value=void 0===o.value.requestFullscreen,l())})),n.next=5,d();case 5:T.value=!n.sent,_.value=s(t).controlsVisible;case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),P=function(){return e.value.pause()},V=function(){if(b.value=!1,!I.value||!e.value.isFullscreen())return document.fullscreenElement?document.exitFullscreen():null;e.value.exitFullscreen()},M=function(e){P(),E.value=null!=e?e:Math.floor(n.value),S.value=!0},C=function(){S.value=!1};return{time:n,bufferedTime:o,duration:l,playing:u,selectedLanguage:c,playbackRate:v,volume:p,quality:m,captions:f,hasEnded:h,ready:g,allowFullscreen:w,isFullscreen:b,headingsMenuDisplay:y,videoCommentsMenuDisplay:S,videoCommentsTime:E,timelineControlsVisible:O,overlayButtonVisible:D,isMediaOnlyFullscreen:I,isVolumeChangeBlocked:T,init:k,toggle:function(){e.value.toggle()},play:function(){return e.value.play()},pause:P,jump:function(t){return e.value.jump(t)},setVolume:function(t){return e.value.setVolume(t)},setSubtitles:function(t){return e.value.setSubtitles(t)},setVideoQuality:function(t){return e.value.setVideoQuality(t)},setPlaybackRate:function(t){return e.value.setPlaybackRate(t)},toggleFullscreen:function(){w.value&&(b.value?V():I.value?e.value.requestFullscreen():(b.value=!0,t.value.requestFullscreen()))},exitFullscreen:V,toggleHeadingsMenu:function(){y.value=!y.value},openVideoCommentsMenu:M,closeVideoCommentsMenu:C,toggleVideoCommentsMenu:function(e){S.value?C():M(e)}}}))}}]);